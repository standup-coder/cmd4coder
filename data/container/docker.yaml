category: "容器编排/Docker命令"
description: "Docker容器管理命令"
commands:
  - name: docker run
    category: "容器编排/Docker命令"
    install_required: true
    install_method: "参考 https://docs.docker.com/engine/install/"
    description: "运行一个新容器"
    usage:
      - "docker run [OPTIONS] IMAGE [COMMAND] [ARG...]"
    options:
      - flag: "-d, --detach"
        description: "后台运行容器"
      - flag: "-p, --publish"
        description: "端口映射 (host:container)"
      - flag: "-v, --volume"
        description: "挂载卷"
      - flag: "--name"
        description: "指定容器名称"
      - flag: "-e, --env"
        description: "设置环境变量"
      - flag: "--rm"
        description: "退出时自动删除容器"
      - flag: "-it"
        description: "交互式终端"
    examples:
      - command: "docker run -d -p 80:80 nginx"
        description: "后台运行nginx并映射80端口"
      - command: "docker run -it ubuntu bash"
        description: "交互式运行Ubuntu容器"
      - command: "docker run --rm alpine echo hello"
        description: "运行后自动删除容器"
    platforms:
      - "linux"
      - "macos"
      - "windows"
    related_commands:
      - "docker ps"
      - "docker stop"
    references:
      - "https://docs.docker.com/engine/reference/commandline/run/"

  - name: docker ps
    category: "容器编排/Docker命令"
    install_required: true
    install_method: "参考 https://docs.docker.com/engine/install/"
    description: "列出运行中的容器"
    usage:
      - "docker ps [OPTIONS]"
    options:
      - flag: "-a, --all"
        description: "显示所有容器(包括已停止的)"
      - flag: "-q, --quiet"
        description: "只显示容器ID"
      - flag: "-s, --size"
        description: "显示容器大小"
    examples:
      - command: "docker ps"
        description: "列出运行中的容器"
      - command: "docker ps -a"
        description: "列出所有容器"
    platforms:
      - "linux"
      - "macos"
      - "windows"
    related_commands:
      - "docker run"
      - "docker inspect"

  - name: docker stop
    category: "容器编排/Docker命令"
    install_required: true
    install_method: "参考 https://docs.docker.com/engine/install/"
    description: "停止运行中的容器"
    usage:
      - "docker stop [OPTIONS] CONTAINER [CONTAINER...]"
    options:
      - flag: "-t, --time"
        description: "超时时间(秒)"
    examples:
      - command: "docker stop my-container"
        description: "停止指定容器"
      - command: "docker stop $(docker ps -q)"
        description: "停止所有运行中的容器"
    platforms:
      - "linux"
      - "macos"
      - "windows"
    related_commands:
      - "docker start"
      - "docker restart"

  - name: docker build
    category: "容器编排/Docker命令"
    install_required: true
    install_method: "参考 https://docs.docker.com/engine/install/"
    description: "从Dockerfile构建镜像"
    usage:
      - "docker build [OPTIONS] PATH"
    options:
      - flag: "-t, --tag"
        description: "镜像名称和标签"
      - flag: "-f, --file"
        description: "指定Dockerfile路径"
      - flag: "--no-cache"
        description: "不使用缓存"
    examples:
      - command: "docker build -t myapp:1.0 ."
        description: "构建镜像并打标签"
      - command: "docker build --no-cache -t myapp ."
        description: "不使用缓存构建"
    platforms:
      - "linux"
      - "macos"
      - "windows"
    related_commands:
      - "docker run"
      - "docker push"

  - name: docker images
    category: "容器编排/Docker命令"
    install_required: true
    install_method: "参考 https://docs.docker.com/engine/install/"
    description: "列出本地镜像"
    usage:
      - "docker images [OPTIONS]"
    options:
      - flag: "-a, --all"
        description: "显示所有镜像"
      - flag: "-q, --quiet"
        description: "只显示镜像ID"
    examples:
      - command: "docker images"
        description: "列出所有镜像"
      - command: "docker images -q"
        description: "只显示镜像ID"
    platforms:
      - "linux"
      - "macos"
      - "windows"
    related_commands:
      - "docker rmi"
      - "docker pull"

  - name: docker pull
    category: "容器编排/Docker命令"
    install_required: true
    install_method: "参考 https://docs.docker.com/engine/install/"
    description: "从镜像仓库拉取镜像"
    usage:
      - "docker pull [OPTIONS] NAME[:TAG]"
    examples:
      - command: "docker pull nginx"
        description: "拉取nginx最新镜像"
      - command: "docker pull nginx:1.21"
        description: "拉取指定版本"
    platforms:
      - "linux"
      - "macos"
      - "windows"
    related_commands:
      - "docker push"
      - "docker images"

  - name: docker rm
    category: "容器编排/Docker命令"
    install_required: true
    install_method: "参考 https://docs.docker.com/engine/install/"
    description: "删除容器"
    usage:
      - "docker rm [OPTIONS] CONTAINER [CONTAINER...]"
    options:
      - flag: "-f, --force"
        description: "强制删除运行中的容器"
      - flag: "-v"
        description: "删除关联的卷"
    examples:
      - command: "docker rm my-container"
        description: "删除已停止的容器"
      - command: "docker rm -f my-container"
        description: "强制删除容器"
    risks:
      - level: medium
        description: "删除容器会丢失容器内的数据(除非使用卷)"
    platforms:
      - "linux"
      - "macos"
      - "windows"
    related_commands:
      - "docker rmi"
      - "docker ps"

  - name: docker exec
    category: "容器编排/Docker命令"
    install_required: true
    install_method: "参考 https://docs.docker.com/engine/install/"
    description: "在运行中的容器内执行命令"
    usage:
      - "docker exec [OPTIONS] CONTAINER COMMAND [ARG...]"
    options:
      - flag: "-it"
        description: "交互式终端"
      - flag: "-d"
        description: "后台执行"
      - flag: "-u, --user"
        description: "指定用户"
    examples:
      - command: "docker exec -it my-container bash"
        description: "进入容器bash终端"
      - command: "docker exec my-container ls /app"
        description: "在容器内执行ls命令"
    platforms:
      - "linux"
      - "macos"
      - "windows"
    related_commands:
      - "docker attach"
      - "docker run"

  - name: docker logs
    category: "容器编排/Docker命令"
    install_required: true
    install_method: "参考 https://docs.docker.com/engine/install/"
    description: "查看容器日志"
    usage:
      - "docker logs [OPTIONS] CONTAINER"
    options:
      - flag: "-f, --follow"
        description: "实时跟踪日志"
      - flag: "--tail <n>"
        description: "显示最后n行"
      - flag: "-t, --timestamps"
        description: "显示时间戳"
    examples:
      - command: "docker logs my-container"
        description: "查看容器日志"
      - command: "docker logs -f --tail 100 my-container"
        description: "实时查看最后100行日志"
    platforms:
      - "linux"
      - "macos"
      - "windows"

  - name: docker-compose
    category: "容器编排/Docker命令"
    install_required: true
    install_method: "pip install docker-compose 或参考官方文档"
    description: "管理多容器应用"
    usage:
      - "docker-compose [OPTIONS] COMMAND"
    options:
      - flag: "up"
        description: "创建并启动容器"
      - flag: "down"
        description: "停止并删除容器"
      - flag: "ps"
        description: "列出容器"
      - flag: "logs"
        description: "查看日志"
    examples:
      - command: "docker-compose up -d"
        description: "后台启动所有服务"
      - command: "docker-compose down"
        description: "停止并删除所有服务"
    platforms:
      - "linux"
      - "macos"
      - "windows"
    references:
      - "https://docs.docker.com/compose/"
